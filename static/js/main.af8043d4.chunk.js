(this["webpackJsonpreact-2048"]=this["webpackJsonpreact-2048"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(24)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(15),a(7)),s=a(2),l=a(1);a(16);function u(e){var t=e.score,a=e.best,n=e.onClickNewGame;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__group"},r.a.createElement("h1",{className:"header__title"},"2048"),r.a.createElement("div",{className:"header__score-container"},r.a.createElement("div",{className:"header__score-box"},r.a.createElement("span",{className:"header__score-box--title"},"SCORE"),r.a.createElement("span",null,t)),r.a.createElement("div",{className:"header__score-box"},r.a.createElement("span",{className:"header__score-box--title"},"BEST"),r.a.createElement("span",null,a)),r.a.createElement("button",{className:"header__button",onClick:n},"New Game"))),r.a.createElement("div",{className:"header__group"},r.a.createElement("p",null,"Join the number and get to the 2048 tile!")))}var m=function(e){switch(e){case 2:return"#EBDCD0";case 4:return"#E9DBBA";case 8:return"#E9A067";case 16:return"#F08151";case 32:return"#F2654F";case 64:return"#F1462C";case 128:return"#E7C65E";case 256:return"#E8C350";case 512:return"#E8BE40";case 1024:return"#E8BB31";case 2048:return"#E7B723";default:return"#C2B3A3"}};a(17);function f(e){var t=e.num;return r.a.createElement("div",{className:"block",style:{background:m(t),color:0!==t&&"#645B52"}},t||"")}a(18);function b(e){var t=e.data,a=e.score,n=e.best,c=e.onClickNewGame;return r.a.createElement("div",{className:"board"},r.a.createElement(u,{score:a,best:n,onClickNewGame:c}),r.a.createElement("div",{className:"board__body"},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"board__row"},e.map((function(e,t){return r.a.createElement(f,{num:e,key:t})})))}))))}a(19);var v=a(3),d=a.n(v),g=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(n.useEffect)((function(){return window.addEventListener(e,t,a),function(){window.removeEventListener(e,t,a)}}))},p=function(e,t){var a=Object(n.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),r=Object(l.a)(a,2),c=r[0],o=r[1];return[c,function(t){try{var a=t instanceof Function?t(c):t;o(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]},h=function(){return[Math.floor(4*Math.random()),Math.floor(4*Math.random())]},O=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=!1,n=0;n<e.length&&!(a=e[n].some((function(e){return e===t})));n++);return a},E=a(6),N=(a(22),function(){});function _(e){var t=e.onClickUndo,a=e.disableUndo,n=e.onClickReplay,c=e.disableReplay,o=e.onClickRedo,i=e.disableRedo;return r.a.createElement("div",{className:"action-panel"},r.a.createElement("div",{className:"action-panel__group",style:{opacity:a?.3:1}},r.a.createElement(E.c,{className:a?"action-panel__button--disabled":"action-panel__button",color:"white",fontSize:"100px",onClick:a?N:t}),"Undo"),r.a.createElement("div",{className:"action-panel__group",style:{opacity:c?.3:1}},r.a.createElement(E.a,{className:c?"action-panel__button--disabled":"action-panel__button",color:"white",fontSize:"100px",onClick:c?N:n}),"Replay"),r.a.createElement("div",{className:"action-panel__group",style:{opacity:i?.3:1}},r.a.createElement(E.b,{className:i?"action-panel__button--disabled":"action-panel__button",color:"white",fontSize:"100px",onClick:i?N:o}),"Redo"))}a(23);function y(e){var t=e.message,a=e.buttons;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup__message"},t),r.a.createElement("div",{className:"popup__footer"},a.map((function(e){return r.a.createElement("button",{className:"popup__button",onClick:e.onClick},e.label)}))))}var S=function(){var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t=p("data",e),a=Object(l.a)(t,2),c=a[0],o=a[1],u=p("newGame",!0),m=Object(l.a)(u,2),f=m[0],v=m[1],E=p("score",0),N=Object(l.a)(E,2),S=N[0],k=N[1],w=p("best",0),j=Object(l.a)(w,2),C=j[0],J=j[1],B=p("scoreHistory",[]),R=Object(l.a)(B,2),G=R[0],x=R[1],M=p("isWon",!1),F=Object(l.a)(M,2),U=F[0],z=F[1],A=p("moveHistory",[]),D=Object(l.a)(A,2),I=D[0],W=D[1],H=p("undoMoves",[]),L=Object(l.a)(H,2),T=L[0],$=L[1],q=p("replayStatus",!1),K=Object(l.a)(q,2),P=K[0],Q=K[1],V=Object(n.useState)({visible:!1,message:""}),X=Object(l.a)(V,2),Y=X[0],Z=X[1],ee=function(e){for(var t=h(e),a=Object(l.a)(t,2),n=a[0],r=a[1];0!==e[n][r];){var c=h(e),o=Object(l.a)(c,2);n=o[0],r=o[1]}e[n][r]=Math.random()>.5?2:4},te=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=c,a=d()(c);if(U)Z({visible:!0,message:"congratulations"});else if(!P){T.length&&$([]);for(var n=0;n<4;n++)for(var r=a[n],i=0,l=1;i<4;)4!==l?0===r[i]&&0===r[l]?l++:0===r[i]&&0!==r[l]?(r[i]=r[l],r[l]=0,l++):0!==r[i]&&0===r[l]?l++:0!==r[i]&&0!==r[l]&&(r[i]===r[l]?(r[i]=r[i]+r[l],k(S+r[i]),r[l]=0,l=i+1,i++):l=++i+1):(l=i+1,i++);if(JSON.stringify(t)!==JSON.stringify(a)?(W([].concat(Object(s.a)(I),[t])),O(a,2048)?(z(!0),o(a),Z({visible:!0,message:"congratulations"})):ee(a)):!O(t)&&e&&ce()&&Z({visible:!0,message:"Game Over"}),!e)return a;o(a)}},ae=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=c,a=d()(c);if(U)Z({visible:!0,message:"congratulations"});else if(!P){T.length&&$([]);for(var n=3;n>=0;n--)for(var r=a[n],i=r.length-1,l=i-1;i>0;)-1!==l?0===r[i]&&0===r[l]?l--:0===r[i]&&0!==r[l]?(r[i]=r[l],r[l]=0,l--):0!==r[i]&&0===r[l]?l--:0!==r[i]&&0!==r[l]&&(r[i]===r[l]?(r[i]=r[i]+r[l],k(S+r[i]),r[l]=0,l=i-1,i--):l=--i-1):(l=i-1,i--);if(JSON.stringify(t)!==JSON.stringify(a)){if(W([].concat(Object(s.a)(I),[t])),O(a,2048))return z(!0),o(a),void Z({visible:!0,message:"Congratulations"});ee(a)}else!O(t)&&e&&ce()&&Z({visible:!0,message:"Game Over"});if(!e)return a;o(a)}},ne=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(s.a)(c),a=JSON.parse(JSON.stringify(c));if(U)Z({visible:!0,message:"congratulations"});else if(!P){T.length&&$([]);for(var n=3;n>=0;n--)for(var r=t.length-1,i=r-1;r>0;)-1!==i?0===t[r][n]&&0===t[i][n]?i--:0===t[r][n]&&0!==t[i][n]?(t[r][n]=t[i][n],t[i][n]=0,i--):0!==t[r][n]&&0===t[i][n]?i--:0!==t[r][n]&&0!==t[i][n]&&(t[r][n]===t[i][n]?(t[r][n]=t[r][n]+t[i][n],k(S+t[r][n]),t[i][n]=0,i=r-1,r--):i=--r-1):(i=r-1,r--);if(JSON.stringify(a)!==JSON.stringify(t)?(W([].concat(Object(s.a)(I),[a])),O(t,2048)?(z(!0),o(t),Z({visible:!0,message:"congratulations"})):ee(t)):!O(a)&&e&&ce()&&Z({visible:!0,message:"Game Over"}),!e)return t;o(t)}},re=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(s.a)(c),a=JSON.parse(JSON.stringify(c));if(U)Z({visible:!0,message:"congratulations"});else if(!P){T.length&&$([]);for(var n=0;n<4;n++)for(var r=0,i=1;r<4;)4!==i?0===t[r][n]&&0===t[i][n]?i++:0===t[r][n]&&0!==t[i][n]?(t[r][n]=t[i][n],t[i][n]=0,i++):0!==t[r][n]&&0===t[i][n]?i++:0!==t[r][n]&&0!==t[i][n]&&(t[r][n]===t[i][n]?(t[r][n]=t[r][n]+t[i][n],k(S+t[r][n]),t[i][n]=0,i=r+1,r++):i=++r+1):(i=r+1,r++);if(JSON.stringify(a)!==JSON.stringify(t)?(W([].concat(Object(s.a)(I),[a])),O(t,2048)?(z(!0),o(t),Z({visible:!0,message:"congratulations"})):ee(t)):!O(a)&&e&&ce()&&Z({visible:!0,message:"Game Over"}),!e)return t;o(t)}},ce=function(){return JSON.stringify(c)===JSON.stringify(te(!1))&&(JSON.stringify(c)===JSON.stringify(ae(!1))&&(JSON.stringify(c)===JSON.stringify(re(!1))&&JSON.stringify(c)===JSON.stringify(ne(!1))))},oe=function(){x([].concat(Object(s.a)(G),[S])),W([]),$([]),z(!1),v(!0),k(0),o(e)};return Object(n.useEffect)((function(){f&&function(){var e=d()(c);ee(e),ee(e),o(e),v(!1)}()}),[c,f,o,v]),Object(n.useEffect)((function(){J(Math.max.apply(Math,Object(s.a)(G).concat([S])))}),[S,G,J]),g("keydown",(function(e){switch(e.keyCode){case 38:re();break;case 40:ne();break;case 37:te();break;case 39:ae()}})),r.a.createElement("div",{className:"container"},r.a.createElement(b,{data:c,score:S,best:C,onClickNewGame:oe}),r.a.createElement("div",{className:"container__action"},r.a.createElement(_,{onClickUndo:function(){var e=d()(I),t=e.pop();W(e),$([].concat(Object(s.a)(T),[c])),o(t)},disableUndo:!I.length||P||U,onClickReplay:function(){Q(!0);var e=d()(I);e.push(c);for(var t=function(t){setTimeout((function(){console.log("replay in progress",t),o(e[t]),t===e.length-1&&Q(!1)}),1e3*t)},a=0;a<e.length;a++)t(a)},disableReplay:P||!I.length,onClickRedo:function(){var e=d()(I),t=d()(T),a=t.pop();e.push(c),W(e),$(t),o(a)},disableRedo:!T.length||P})),Y.visible&&r.a.createElement(y,{message:Y.message,buttons:[{label:"ok",onClick:function(){Z(Object(i.a)({},Y,{visible:!1}))}},{label:U?"new game":"try again",onClick:function(){Z(Object(i.a)({},Y,{visible:!1})),oe()}}]}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.af8043d4.chunk.js.map